---
import type { CollectionEntry } from "astro:content";

interface Props {
    post: CollectionEntry<"blog">;
}

const { post } = Astro.props;
const formattedDate = new Date(post.data.publishDate).toLocaleDateString(
    "en-US",
    {
        year: "numeric",
        month: "long",
        day: "numeric",
    }
);
---

<a href={`/blog/${post.id.replace(/\.md$/, "")}`} class="block group">
    <article
        class="relative rounded-2xl border border-white/10 bg-black/30 backdrop-blur-xl p-8 overflow-hidden transition-all duration-500 hover:border-blue-500/30 hover:shadow-[0_0_40px_rgba(59,130,246,0.08)] hover:translate-y-[-4px]"
    >
        <!-- Gradient hover accent -->
        <div
            class="absolute inset-0 bg-gradient-to-br from-blue-500/5 via-transparent to-purple-500/5 opacity-0 group-hover:opacity-100 transition-opacity duration-500"
        >
        </div>

        <div class="relative z-10">
            <!-- Date chip -->
            <time
                class="inline-block text-[10px] font-bold uppercase tracking-[0.2em] text-gray-300 mb-4 bg-white/10 px-3 py-1 rounded-full"
            >
                {formattedDate}
            </time>

            <!-- Title -->
            <h3
                class="text-xl font-bold tracking-tight mb-3 group-hover:text-blue-400 transition-colors duration-300 leading-snug"
            >
                {post.data.title}
            </h3>

            <!-- Description -->
            <p class="text-gray-400 text-sm leading-relaxed mb-6 line-clamp-3">
                {post.data.description}
            </p>

            <!-- Tags + Read more -->
            <div class="flex items-center justify-between">
                <div class="flex flex-wrap gap-2">
                    {
                        post.data.tags
                            .slice(0, 3)
                            .map((tag: string) => (
                                <span class="text-[9px] uppercase tracking-[0.15em] bg-blue-500/10 text-blue-400 border border-blue-500/20 px-2 py-0.5 rounded">
                                    {tag}
                                </span>
                            ))
                    }
                </div>
                <span
                    class="text-[10px] font-bold uppercase tracking-widest text-gray-300 group-hover:text-blue-400 transition-colors"
                >
                    Read â†’
                </span>
            </div>
        </div>
    </article>
</a>
