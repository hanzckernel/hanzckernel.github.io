---
import { getCollection, render } from 'astro:content';
import BaseLayout from '../layouts/BaseLayout.astro';

const interests = await getCollection('interests');
const sortedInterests = interests.sort((a, b) => a.data.order - b.data.order);
---

<BaseLayout title="My Interests | Zhicheng Han" description="A deep dive into what keeps me inspired, from Heat Kernels to Russian composers.">
	<section class="py-12">
		<h1 class="text-5xl md:text-7xl font-extrabold tracking-tighter mb-12">My <span class="text-blue-400">Interests</span></h1>

		<div class="space-y-24 max-w-4xl mx-auto">
			{sortedInterests.map(async (interest) => {
                const { Content } = await render(interest);
                return (
                    <div class="group grid grid-cols-1 md:grid-cols-2 gap-12 items-center">
                        <div class="grid grid-cols-2 gap-4">
                            {interest.data.images.map(img => (
                                <div class="aspect-square rounded-2xl overflow-hidden border border-white/10 group-hover:border-blue-500/30 transition-all duration-700 transform group-hover:scale-[1.02]">
                                    <img src={img} alt={interest.data.title} class="w-full h-full object-cover" />
                                </div>
                            ))}
                        </div>
                        <div class="space-y-6">
                            <h2 class="text-3xl font-bold tracking-tight text-blue-400">
                                {interest.data.title}
                            </h2>
                            <div class="text-gray-400 text-lg leading-relaxed prose prose-invert">
                                <Content />
                            </div>
                        </div>
                    </div>
                )
            })}
		</div>
	</section>
</BaseLayout>
